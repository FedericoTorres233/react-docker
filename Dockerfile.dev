FROM node:alpine

WORKDIR '/app'

COPY package.json .
RUN npm install

COPY . .

CMD [ "npm", "run", "start" ]

# ¿PORQUE NECESITO ESPECIFICAR NODE_MODULES EN VOLUMENES?
# CUANDO SE USA NPM START EN LA IMAGEN, ÉSTA TIENE
# NODE_MODULES, PERO CUANDO ENLAZAS EL VOLUMEN
# CON .:/APP SE COPIA EL DIRECTORIO EN TU PC, QUE NO
# CONTIENE NODE_MODULES, Y POR LO TANTO EL
# CONTENEDOR SE SOBRESCRIBE

